{
  "settings": {
    "index.lifecycle.name": "curie_policy",
    "index.lifecycle.rollover_alias": "INDEX_NAME"
  },
  "aliases": {
    "INDEX_NAME": {
      "is_write_index": true
    }
  },
  "mappings": {
    "properties": {
      "requestid": {
        "type": "keyword"
      },
      "starttime": {
        "type": "date_nanos"
      },
      "timestamp": {
        "type": "date_nanos"
      },
      "scheme": {
        "type": "keyword"
      },
      "authority": {
        "type": "keyword"
      },
      "port": {
        "type": "integer"
      },
      "method": {
        "type": "keyword"
      },
      "path": {
        "type": "keyword"
      },
      "blocked": {
        "type": "boolean"
      },
      "block_reason": {
        "type": "object"
      },
      "tags": {
        "type": "keyword"
      },
      "rxtimers": {
        "properties": {
          "firstupstreambyte": {
            "type": "float"
          },
          "lastupstreambyte": {
            "type": "float"
          },
          "lastbyte": {
            "type": "float"
          }
        }
      },
      "txtimers": {
        "properties": {
          "firstdownstreambyte": {
            "type": "float"
          },
          "firstupstreambyte": {
            "type": "float"
          },
          "lastdownstreambyte": {
            "type": "float"
          },
          "lastupstreambyte": {
            "type": "float"
          }
        }
      },
      "downstream": {
        "properties": {
          "connectiontermination": {
            "type": "boolean"
          },
          "directremoteaddress": {
            "type": "ip"
          },
          "directremoteaddressport": {
            "type": "integer"
          },
          "localaddress": {
            "type": "ip"
          },
          "localaddressport": {
            "type": "integer"
          },
          "protocolerror": {
            "type": "boolean"
          },
          "remoteaddress": {
            "type": "ip"
          },
          "remoteaddressport": {
            "type": "integer"
          }
        }
      },
      "upstream": {
        "properties": {
          "cluster": {
            "type": "keyword"
          },
          "connectionfailure": {
            "type": "boolean"
          },
          "connectiontermination": {
            "type": "boolean"
          },
          "localaddress": {
            "type": "ip"
          },
          "localaddressport": {
            "type": "integer"
          },
          "overflow": {
            "type": "boolean"
          },
          "remoteaddress": {
            "type": "ip"
          },
          "remoteaddressport": {
            "type": "integer"
          },
          "remotereset": {
            "type": "boolean"
          },
          "requesttimeout": {
            "type": "boolean"
          },
          "retrylimitexceeded": {
            "type": "boolean"
          },
          "transportfailurereason": {
            "type": "keyword"
          }
        }
      },
      "tls": {
        "properties": {
          "ciphersuite": {
            "type": "keyword"
          },
          "sessionid": {
            "type": "keyword"
          },
          "snihostname": {
            "type": "keyword"
          },
          "version": {
            "type": "keyword"
          }
        }
      },
      "request": {
        "properties": {
          "bodybytes": {
            "type": "integer"
          },
          "headersbytes": {
            "type": "integer"
          },
          "originalpath": {
            "type": "keyword"
          },
          "headers": {
            "type": "flattened"
          },
          "cookies": {
            "type": "flattened"
          },
          "arguments": {
            "type": "flattened"
          },
          "attributes": {
            "type": "flattened"
          }
        }
      },
      "response": {
        "properties": {
          "bodybytes": {
            "type": "integer"
          },
          "code": {
            "type": "integer"
          },
          "codedetails": {
            "type": "keyword"
          },
          "headers": {
            "type": "keyword"
          },
          "headersbytes": {
            "type": "integer"
          },
          "trailers": {
            "type": "keyword"
          }
        }
      },
      "metadata": {
        "properties": {
          "delayinjected": {
            "type": "boolean"
          },
          "failedlocalhealthcheck": {
            "type": "boolean"
          },
          "faultinjected": {
            "type": "boolean"
          },
          "invalidenvoyrequestheaders": {
            "type": "boolean"
          },
          "localreset": {
            "type": "boolean"
          },
          "nohealthyupstream": {
            "type": "boolean"
          },
          "noroutefound": {
            "type": "boolean"
          },
          "ratelimited": {
            "type": "boolean"
          },
          "ratelimitserviceerror": {
            "type": "boolean"
          },
          "routename": {
            "type": "keyword"
          },
          "samplerate": {
            "type": "float"
          },
          "streamidletimeout": {
            "type": "boolean"
          },
          "unauthorizeddetails": {
            "type": "keyword"
          }
        }
      }
    }
  }
}
